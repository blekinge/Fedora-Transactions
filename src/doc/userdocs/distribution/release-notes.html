<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
  <head>
    <title>Fedora 3.0 Release Notes</title>
    <link rel="stylesheet" type="text/css" href="../docstyle.css" />
  </head>

  <body>

    <div id="header">
      <a href="../../../index.html">
      </a>
      <h1>Fedora 3.0 Release Notes</h1>
      <h2>July 29, 2008</h2>
    </div>

    <div id="toc">
      <h2>Table of Contents</h2>
      <ol>
	    <li><a href="#intro">Introduction</a></li>
	    <li><a href="#features">New Features and Enhancements</a></li>
	    <li><a href="#bugs">Bug Fixes</a></li>
		<li><a href="#issues">Known Issues</a></li>
		<li><a href="#install">Installation</a></li>
		<li><a href="#history">Historic Release Notes (prior releases)</a></li>
      </ol>
    </div>

    <ol id="content">

      <li>
        <h2 id="intro">Introduction</h2>
        <span class="plaintext">
          Fedora 3.0 is a major release of Fedora that
          introduces the Content Model Architecture among several
          other significant features, listed below.  Several bugs
          have also been addressed with this release.
        </span>
      </li>

      <li>
        <h2 id="features">New Features and Enhancements</h2>
        <span class="plaintext">
          The following features and enhancements have been
          included in this release.
        </span>
        <ol class="alpha">

          <li> Introduction of the Content Model Architecture
            <span class="plaintext">
              The Content Model Architecture, or CMA, has added
              a new system-recognized Fedora Object type, the
              Content Model Object.  Among the improvements this
              architectural change provides is that operations
              or behaviors are now attached to objects at the
              content model level.  The traditional "disseminator"
              has been replaced by the CMA functionality.
              <br/>
              <br/>
              Data objects assert their membership to a content
              model by adding a "fedora-model:hasModel"
              statement to the RELS-EXT datastream.  This replaces the old
              system object property "fedora-model:contentModel".
              The demo objects have been updated to reflect this new
              way of asserting type (and optionally, attaching behaviors).
              <br/>
              <br/>
              See the <a href="../digitalobjects/cma.html">Content Model
              Architecture</a> document for more extensive information on
              the purpose and design of the CMA.
            </span>
          </li>

          <li> Fedora REST API (experimental)
            <span class="plaintext">
              The new <a href="../server/webservices/rest/index.html">REST
              API</a> exposes a subset of the Access and Management
              interfaces as a RESTful (Representational State Transfer)
              Web Service. This is an experimental interface which should
              be expected to change in future versions of the Fedora
              Repository. It is a less secure interface than the other
              Fedora APIs and should be used with care.  This interface
              provides a design which may be used to replace functions
              of API-A LITE and support many API-M functions.  Fedora Commons
              would like to thank
              <a href="http://www.yourmediashelf.com/">MediaShelf</a>
              for contributing this feature.
            </span>
          </li>

          <li> Mulgara Support
            <span class="plaintext">
              The <a href="../server/resourceindex/index.html">Resource
              Index</a> has been updated to support
              <a href="http://www.mulgara.org/">Mulgara</a> 2.0 as its
              default triplestore. MPTStore is supported as an alternative.
            </span>
          </li>

          <li> Migration Utilities
            <span class="plaintext">
              The 3.0 migration utilities provide an upgrade path
              from prior versions of Fedora.  The utilities support
              converting old Disseminators to use the CMA and upgrading
              objects to FOXML 1.1.  For more information on these
              utilities, see the <a href="migration.html">Fedora
              Migration Guide</a>.
            </span>
          </li>

          <li> Relational Index Simplification
            <span class="plaintext">
              With the CMA, the most complex of Fedora's database tables
              are no longer necessary.  This reduces the complexity
              of the code while also reducing the amount of time Fedora
              needs to add, change, and remove information in the database.
              It also significantly reduces the storage space requirements
              for the database and is designed to significantly increase
              performance and scalability.
            </span>
          </li>

          <li> Dynamic Behaviors
            <span class="plaintext">
              Objects may now be added or removed from the system dynamically
              due to the transition to allowing system checks to produce runtime errors.
              With previous releases of Fedora, Behavior Definitions
              had to be ingested first, followed by Behavior Mechanisms,
              followed by Data Objects.  Now, Fedora allows the ingest
              (and purge) of objects in any order, regardless of type.
              In addition, system-recognized Datastreams for the new Service Definition
              and Service Deployment objects can now be edited in-place.
            </span>
          </li>

          <li> Error Reporting Improvements
            <span class="plaintext">
              Fedora now sends correct HTTP status codes and more
              user-friendly messages when API-A-LITE, API-M-LITE, and
              search-related errors occur.  With the introduction of the
              CMA, these error messages also provide better detail
              on the reason a request failed
              (missing object, Datastream, etc.).
            </span>
          </li>

          <li> Multiple Owners Per Digital Object
            <span class="plaintext">
              By specifying a comma-separated list, you can now specify
              multiple owners as the "ownerId" of Fedora Objects.
              The list of owners can be provided as input to your
              XACML policies to support more flexible policy enforcement.
              See the example policies for more information.
            </span>
          </li>

          <li> Journaling
            <span class="plaintext">
              The following improvements enable more sophisticated high
              availability configurations with Fedora.  See the
              <a href="../server/journal/index.html">Journaling Guide</a>
              for more information on configuring and using these features.
              <ol>
                <li> <em>RMI Support</em> - Journal leaders/followers can
                  now be configured to communicate via RMI.
                </li>

                <li> <em>Multicast Support</em> - Journaling now supports
                  multiple followers via disk, RMI, or combination.
                </li>
                <li> <em>Read-only Mode</em> - Formerly, when configured
                  as a follower, a Fedora repository would give an error
                  for any API-M call.  Now, a follower will allow calls to
                  API-M methods that do not make changes to the repository.
                </li>
              </ol>
            </span>
          </li>

          <li> Java 6 Compatibility
            <span class="plaintext">
              Prior versions of Fedora would run with Java 1.5 or 1.6,
              but compiling was restricted to JDK 1.5.  Now Fedora
              can be compiled with JDK 1.6 as well.
            </span>
          </li>

          <li> Relationships API
            <span class="plaintext">
              The <a href="../server/webservices/apim/index.html">Fedora
              Management interface</a> has been extended to support
              the per-object assertion and retrieval of
              user-defined relationships in the RELS-EXT Datastream.
              The new relationships API methods are <a href="../server/webservices/apim/index.html#method.addRelationship">addRelationship</a>,
              <a href="../server/webservices/apim/index.html#method.getRelationships">getRelationships</a>,
              and <a href="../server/webservices/apim/index.html#method.purgeRelationship">purgeRelationship</a>.
              The Resource Index does not need to be enabled in order
              to use these methods.
            </span>
          </li>

          <li> Fedora Object XML Schemas Revised
            <span class="plaintext">
              With the introduction of the CMA, the FOXML and Fedora METS
              Extension schemas have been versioned to 1.1.  This was
              primarily a simplification to remove disseminator-related
              elements.  For a complete list of changes, see the changelog
              in the associated schema documents:
            </span>
            <ul>
              <li> <a href="http://www.fedora.info/definitions/1/0/foxml1-1.xsd">FOXML 1.1 XSD Schema</a></li>
              <li> <a href="http://www.fedora.info/definitions/1/0/foxmlRules1-1.xml">FOXML 1.1 Schematron Rules</a></li>
              <li> <a href="http://www.fedora.info/definitions/1/0/mets-fedora-ext1-1.xsd">Fedora METS Extension 1.1 XSD Schema</a></li>
              <li> <a href="http://www.fedora.info/definitions/1/0/metsExtRules1-1.xml">Fedora METS Extension 1.1 Schematron Rules</a></li>
            </ul>
            <span class="plaintext"></span>
          </li>

          <li> Atom and Atom Zip Support
            <span class="plaintext">
            Fedora objects can now be imported and exported in a special
            profile of the Atom syndication format.  In addition, Fedora
            now supports the import and export of Zip files containing
            an Atom manifest and a set of Datastreams, included in the
            Zip as regular files.  For examples of these new formats, see the
            <code>demo/atom</code> and <code>demo/atom-zip</code> directories
            in the client.
            </span>
          </li>

          <li> Messaging Support
            <span class="plaintext">
            Fedora can now be configured to produce JMS messages for API-M
            events.  Message selectors are also supported.  The JMS interface
            has been tested using the Apache ActiveMQ JMS provider though any
            JMS provider may be used. See the
            <a href="../server/messaging/index.html">Fedora Messaging
            Guide</a> for more information.
            </span>
          </li>

          <li> Saxon 8 &amp; XSLT2 Support
            <span class="plaintext">
            The Saxon library in Fedora has been upgraded to version 8.
            so the bundled <a href="../server/localservices/saxon/index.html">Saxon service</a>
            can now make use of more advanced stylesheets.
            </span>
          </li>

          <li> Bundled Tomcat Updated to 5.5.26
            <span class="plaintext">
            When choosing to use the bundled Tomcat for deployment, the
            Fedora installer now uses version 5.5.26.  This was formerly
            version 5.0.28.
            </span>
          </li>

          <li> MIME Type and FORMAT_URI Updates
            <span class="plaintext">
            Fedora's system-recognized Datastreams (DC, RELS-EXT, etc) have
            been updated with consistent MIME types and FORMAT_URI values.
            Notably, RELS-EXT has been updated to use MIME type
            "application/rdf+xml", and all system-recognized Datastreams
            have been updated to use FORMAT_URIs.  For a complete list,
            install Fedora 3.0 and see the DS-COMPOSITE-MODEL Datastream
            of each of the system content models.  These objects don't need
            to be ingested; they are automatically present in every
            Fedora 3.0 repository.
            </span>
          </li>

          <li> Admin GUI Using Templates for CMA Objects
            <span class="plaintext">
            The out-of-date "Builders" menu in the admin client has been
            replaced with a simple templating approach when creating new Content
            Model objects, Service Definition objects, or Service Deployment
            objects.  When creating these special objects, the Admin GUI now
            pre-populates them with the basic required Datastreams, which the
            user can then fill out using the object editor interface.
            </span>
          </li>

          <li> Basic Content Model-Based Validation
            <span class="plaintext">
            This feature provides system operators a way to validate the
            integrity of part or all of their repository, based on
            content models.  For more information about this feature,
            see the documentation for the
            <a href="../client/cmd-line/index.html#validator">
            <nobr>fedora-validate-objects</nobr></a>
            command-line utility.
            </span>
          </li>

          <li> RELS-EXT Validation Relaxed
            <span class="plaintext">
              RELS-EXT Datastreams are now allowed to make self-referential
              relationships.   This relaxation was made to support the
              "basic" system-defined content model,
              <code>fedora-system:FedoraObject-3.0</code> which has itself
              as a content model.
            </span>
          </li>

          <li> Batch Modify Utility MIME Restriction Relaxed
            <span class="plaintext">
              Former versions of the batch modify utility required that
              Inline XML Datastreams had the "text/xml" MIME type.  This
              restriction was dropped in order to support other xml-based
              MIME types, such as "application/rdf+xml".
            </span>
          </li>

          <li> Basic Performance Test Suite
            <span class="plaintext">
              In order to support basic performance testing with various
              environments and configurations, a suite of tests has been
              included as part of the distribution.  These tests can be
              executed from the source distribution by running
              "ant performance-tests".
            </span>
          </li>

        </ol>
      </li>

      <li>
        <h2 id="bugs">Bug Fixes</h2>
        <span class="plaintext">
          The following bugs have been addressed for this release.
        </span>
        <ul>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1663737">Bug #1663737</a>: Log messages not being printed</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1697137">Bug #1697137</a>: fedora.war deployment fails in JBoss AS with OnlyOnceError</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1701766">Bug #1701766</a>: Clean up prompts/messages for "other" servlet container</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1710801">Bug #1710801</a>: HTTP Requests include bad HTTP basic Auth</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1714089">Bug #1714089</a>: HTTP Error Codes are not being returned correctly.</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1716106">Bug #1716106</a>: demo soapclient fails to compile/run</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1716636">Bug #1716636</a>: addDatastream allows invalid values for checksumType</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1720485">Bug #1720485</a>: Null pointer while running installer</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1747186">Bug #1747186</a>: FedoraAccessServlet hardcodes tiny buffer for Datastreams</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1773195">Bug #1773195</a>: Incorrect XACML demo policies involving state</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1740417">Bug #1740417</a>: dcDates table not updated when DC modified</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1771136">Bug #1771136</a>: Whitespace added when modifying inline XML</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1775374">Bug #1775374</a>: object editor dirty flag being set when no changes have been</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1785608">Bug #1785608</a>: SQL rebuild sometimes fails to populate pidGen correctly</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1791683">Bug #1791683</a>: Installer creates one-jar doc directory</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1816735">Bug #1816735</a>: Flush and close missing in FieldSearchServlet</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1832548">Bug #1832548</a>: XSD dateTime inconsistency</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1832564">Bug #1832564</a>: XSD dateTimes can have incorrect fractional seconds</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1835449">Bug #1835449</a>: Object-specific POLICY Datastream ignored when using Oracle</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1838750">Bug #1838750</a>: improper handling of default namespace in batchModify</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1844803">Bug #1844803</a>: bug in DefaultExternalContentManager</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1848092">Bug #1848092</a>: Incorrect handling of dates before 1CE</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1848095">Bug #1848095</a>: RelsExtValidator rejects valid UTC dateTimes</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1853905">Bug #1853905</a>: Installer fails if FEDORA_HOME contains space</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1863382">Bug #1863382</a>: Lockup after frequent dissemination requests</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1877022">Bug #1877022</a>: Mail.jar missing from 3.0b1</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1878847">Bug #1878847</a>: Problem with UTF-8 chars in Datastream</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1896583">Bug #1896583</a>: Incorrect behaviour when exception thrown during download</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1921874">Bug #1921874</a>: Log4J errors on startup and shutdown</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1927861">Bug #1927861</a>: ExecUtility calls can fail if command has a space</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=1938493">Bug #1938493</a>: Adding a Datastream fails with RC=503</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=2006837">Bug #2006837</a>: Inconsistent use of none vs. DISABLED for ds checksums</li>
          <li><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=177054&atid=879703&aid=2024248">Bug #2024248</a>: MIMETypedStream finalizer prematurely closes</li>
        </ul>
      </li>

      <li>
        <h2 id="issues">Known Issues</h2>
        <span class="plaintext">
          The following outstanding issues are present with this release:
        </span>
        <ul>
          <li> Ingest of Atom format objects (including Atom Zip) leaves
               temporary files in java.io.tmpdir.  When running under the
               bundled Tomcat, these will be found in $CATALINA_HOME/temp.
               CAUTION: While this issue persists, do not ingest very large
               numbers of objects in Atom format without periodically
               cleaning up the temporary directory.</li>
          <li> Fedora Administrative GUI has button / tab overlaying
               problem after creating a new Datastream.  When this occurs,
               you can click the "New Datastream" tab, then the "RELS-EXT"
               tab in order to restore normal operation.</li>
          <li> When running Fedora on Linux with messaging enabled and
               GSearch installed, if the messaging provider (ActiveMQ by
               default) is run within the same Tomcat server as Fedora
               and GSearch (the default configuration) an error may occur
               on server shutdown which causes the Tomcat process to fail
               to exit. Work-arounds are to either kill the Tomcat process
               when this occurs or to run the messaging provider as a
               standalone service.</li>
           <li>Triples in the Resource Index that have an empty literal object
               are not deleted from the Resource Index when the object is 
               purged from the repository.</li>
           <li>On some Linux systems, some dialog boxes are not rendered (blank)
               in the Fedora Administrative GUI. This appears to be a problem 
               with Beryl and Java 1.5 and earlier versions of Java 1.6. One 
               workaround is to set the environment variable AWT_TOOLKIT to 
               MToolkit (e.g. "export AWT_TOOLKIT=MToolkit"). Also see
               <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6429775">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6429775</a></li>
        </ul>
        <span class="plaintext">
          Please see the
          <a href="http://sourceforge.net/tracker/?group_id=177054&atid=879703">
          Fedora Commons Bug Tracker</a> for an up-to-date list of
          outstanding bugs.
        </span>
      </li>

      <li>
        <h2 id="install">Installation</h2>
        <span class="plaintext">
          For instructions on installing and upgrading Fedora, please consult the <a href="installation.html">Installation Guide</a> and the <a href="migration.html">Fedora Upgrade and Migration Guide</a>.
        </span>
      </li>

      <li>
        <h2 id="history">Historic Release Notes</h2>
        <span class="plaintext">
          Release notes for previous versions of Fedora:<br/>
          [<a href="http://www.fedora-commons.org/documentation/2.2.2/userdocs/distribution/release-notes.html">2.2.2</a>],
          [<a href="http://fedora.info/download/2.2.1/userdocs/distribution/release-notes.html">2.2.1</a>],
          [<a href="http://fedora.info/download/2.2/userdocs/distribution/release-notes.html">2.2</a>],
	      [<a href="http://fedora.info/download/2.1.1/userdocs/distribution/release-notes.html">2.1.1</a>],
	      [<a href="http://fedora.info/download/2.1/userdocs/distribution/release-notes.html">2.1</a>],
	      [<a href="http://fedora.info/download/2.1b/userdocs/distribution/release-notes.html">2.1b</a>],
	      [<a href="http://fedora.info/download/2.0/userdocs/distribution/release-notes.html">2.0</a>],
          [<a href="http://fedora.info/download/1.2.1/userdocs/distribution/release-notes.html">1.2.1</a>],
          [<a href="http://fedora.info/download/1.2/userdocs/distribution/release-notes.html">1.2</a>],
	      [<a href="http://fedora.info/download/1.1.1/userdocs/distribution/release-notes.html">1.1.1</a>],
	      [<a href="http://fedora.info/download/1.1/userdocs/distribution/release-notes.html">1.1</a>],
	      [<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html">1.0</a>],
	      [<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e102">0.9</a>],
	      [<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e197">Beta 2</a>],
	      [<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e279">Alpha 1</a>]
	    </span>
	  </li>
	</ol>

    <div id="footer">
      <div id="copyright">
        Copyright &copy; 2006-2007 Fedora Project; 2008 Fedora Commons, Inc.
      </div>
    </div>

  </body>
</html>

